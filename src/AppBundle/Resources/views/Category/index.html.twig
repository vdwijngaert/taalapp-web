{% extends "::base.html.twig" %}
{% block stylesheets %}
    {{ parent() }}

    {% stylesheets 'bundles/app/css/categories.scss' %}
        <link href="{{ asset_url }}" rel="stylesheet" type="text/css">
    {% endstylesheets %}
{% endblock %}
{% set title = parent ? parent.name : 'CategorieÃ«n' %}
{% block title %}
    {{ title }}
{% endblock %}
{% block page_title %}
    {% if parent %}
        <a href="{{ path('homepage', {'id': null}) }}" class="btn btn-default"><span class="glyphicon glyphicon-chevron-left"></span> <span class="sr-only">Vorige</span></a>
    {% endif %}
    {{ title }}
{% endblock %}
{% block body %}
    <div id="categories" class="row">
        {% for category in categories %}
        <div class="col-xs-6 col-sm-4 col-md-3">
            <a class="category" href="{{ path('homepage', {'id': category.id}) }}">
                <div class="category-icon"><img src="/bundles/app/images/icons/{{ category.icon.icon }}"></div>
                <div class="category-name"><h2>{{ category.name }}</h2></div>
            </a>
        </div>
        {% endfor %}
        <div class="col-xs-6 col-sm-4 col-md-3">
            <a class="category add" href="#createModal" data-toggle="modal" data-target="#createModal">
                <div class="category-icon"><span class="glyphicon glyphicon-plus"></span></div>
                {% set buttonText = parent ? 'subcategorie' : 'categorie' %}
                <div class="category-name"><h2>Nieuwe {{ buttonText }}</h2></div>
            </a>
        </div>
    </div>

    {% embed "AppBundle::modal.html.twig" with {'modal_size': 'modal-lg'} %}
        {% block modal_style %}fade{% endblock %}
        {% block modal_id %}createModal{% endblock %}
        {% block modal_title %}Voeg nieuwe categorie toe{% endblock %}
        {% block modal_body %}
            {%  include "AppBundle:Category:category.form.html.twig" with {'categoryForm': categoryForm, 'parent': parent} %}
        {% endblock %}
    {%  endembed %}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts '@AppBundle/Resources/public/js/categories.js' %}
    <script src="{{ asset_url }}" type="text/javascript"></script>
    {% endjavascripts %}
{% endblock %}